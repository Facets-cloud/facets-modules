spec:
  title: Nginx Ingress Controller
  type: object
  properties:
    basicAuth:
      type: boolean
      title: Basic Authentication
      description: Enable/disable basic auth
    grpc:
      type: boolean
      title: GRPC
      description: Enable/disable GRPC support
    private:
      type: boolean
      title: Private
      description: Set load balancer as private
    domains:
      title: Domains
      description: Map of domain key to rules
      type: object
      x-ui-overrides-only: true
      patternProperties:
        keyPattern: "^[a-zA-Z0-9_.-]*$"
        title: Domain Object
        description: Name of the domain object
        properties:
          domain:
            type: string
            title: Domain
            description: Host name of the domain
          alias:
            type: string
            title: Alias
            description: Alias for the domain
        required: [ "domain", "alias" ]
    rules:
      title: Ingress Rules
      description: Objects of all ingress rules
      type: object
      patternProperties:
        keyPattern: "^[a-zA-Z0-9_.-]*$"
        title: Ingress Object
        description: Name of the ingress object
        properties:
          service_name:
            type: string
            title: Service Name
            description: Kubernetes service name
          path:
            type: string
            title: Path
            description: Path of the application
          port_name:
            type: string
            title: Port Name
            description: Service port name
          port:
            type: string
            title: Port
            description: Service port number
          domain_prefix:
            type: string
            title: Domain Prefix
            description: Subdomain prefix
    force_ssl_redirection:
      type: boolean
      title: Force SSL Redirection
      description: Force HTTP to HTTPS redirection
  required: ["private", "rules", "force_ssl_redirection"]
  x-ui-order: ["basicAuth", "grpc", "private", "domains", "rules", "force_ssl_redirection"]
sample:
  kind: ingress
  flavor: nginx_k8s_native
  $schema: >-
    https://facets-cloud.github.io/facets-schemas/schemas/ingress/ingress.schema.json
  disabled: true
  version: '0.1'
  metadata:
    annotations: { }
  spec:
    private: false
    basic_auth: false
    grpc: false
    domains: { }
    rules: { }
    force_ssl_redirection: true
