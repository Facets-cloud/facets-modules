intent: network
flavor: gcp_vpc
version: "0.1"
description: Adds network - gcp vpc flavor
clouds:
  - gcp
spec:
  title: network
  description: Specification of the network for gcp vpc flavor
  type: object
  properties:
    create_new_vpc:
      title: Create New VPC
      description: Create a new vpc
      type: boolean
      x-ui-immutable: true
      x-ui-override-only: true
    use_existing_vpc:
      title: Use Existing VPC
      description: Use an existing vpc
      type: boolean
      x-ui-immutable: true
      x-ui-override-only: true
    shared_vpc:
      title: Shared VPC
      description: Use a shared vpc
      type: boolean
      x-ui-immutable: true
      x-ui-override-only: true
    azs:
      title: Availability Zones
      description: Availability zones for the vpc
      type: array
      x-ui-immutable: true
      x-ui-override-only: true
    vpc_cidr:
      title: VPC CIDR
      description: CIDR block for the vpc
      x-ui-placeholder: e.g. 10.45.0.0/16
      pattern: \b((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\/(3[0-2]|[1-2]?[0-9])\b
      x-ui-error-message: Regex for the vpc CIDR block did not match
      type: string
      x-ui-immutable: true
      x-ui-override-only: true
    vnet_name:
      title: Existing VPC Name
      description: To setup network components in an existing vpc
      type: string
      x-ui-visible-if:
        field: spec.use_existing_vpc
        values: [true]
      x-ui-immutable: true
      x-ui-override-only: true
    project_id:
      title: Project ID
      description: Project ID for the vpc
      type: string
      x-ui-immutable: true
      x-ui-override-only: true
      x-ui-visible-if:
        field: spec.shared_vpc
        values: [true]
    project_pods_secondary_range_name:
      title: Project Pods Secondary Range Name
      description: Project Pods Secondary Range Name for the vpc
      type: string
      x-ui-immutable: true
      x-ui-override-only: true
      x-ui-visible-if:
        field: spec.shared_vpc
        values: [true]
    project_services_secondary_range_name:
      title: Project Services Secondary Range Name
      description: Project Services Secondary Range Name for the vpc
      type: string
      x-ui-immutable: true
      x-ui-override-only: true
      x-ui-visible-if:
        field: spec.shared_vpc
        values: [true]
    project_allocatable_ip_range:
      title: Project Allocatable IP Range 
      description: Project Allocatable IP Range for the vpc
      type: string
      x-ui-immutable: true
      x-ui-override-only: true
      x-ui-visible-if:
        field: spec.shared_vpc
        values: [true]
    project_subnet_id:
      title: Project Subnet ID
      description: Project Subnet ID for the vpc
      type: string
      x-ui-immutable: true
      x-ui-override-only: true
      x-ui-visible-if:
        field: spec.shared_vpc
        values: [true]
    project_subnet_name:
      title: Project Subnet Name
      description: Project Subnet Name for the vpc
      type: string
      x-ui-immutable: true
      x-ui-override-only: true
      x-ui-visible-if:
        field: spec.shared_vpc
        values: [true]
    project_vpc_id:
      title: Project VPC ID
      description: Project VPC ID for the vpc
      type: string
      x-ui-immutable: true
      x-ui-override-only: true
      x-ui-visible-if:
        field: spec.shared_vpc
        values: [true]
    project_vpc_name:
      title: Project VPC Name
      description: Project VPC Name for the vpc
      type: string
      x-ui-immutable: true
      x-ui-override-only: true
      x-ui-visible-if:
        field: spec.shared_vpc
        values: [true]
    project_google_service_id:
      title: Project Google Service ID
      description: Project Google Service ID for the vpc
      type: string
      x-ui-immutable: true
      x-ui-override-only: true
      x-ui-visible-if:
        field: spec.shared_vpc
        values: [true]
    project_google_service_name:
      title: Project Google Service Name
      description: Project Google Service Name for the vpc
      type: string
      x-ui-immutable: true
      x-ui-override-only: true
      x-ui-visible-if:
        field: spec.shared_vpc
        values: [true]
  required: [ vnet_name, project_id, project_pods_secondary_range_name, project_services_secondary_range_name, project_allocatable_ip_range,  project_subnet_id, project_subnet_name, project_vpc_id, project_vpc_name, project_google_service_id, project_google_service_name, azs, vpc_cidr ]
  x-ui-order: [ create_new_vpc, use_existing_vpc, shared_vpc, vnet_name, project_id, project_pods_secondary_range_name, project_services_secondary_range_name, project_allocatable_ip_range,  project_subnet_id, project_subnet_name, project_vpc_id, project_vpc_name, project_google_service_id, project_google_service_name, azs, vpc_cidr ]
  sample:
  kind: network
  flavor: gcp_vpc
  version: "0.1"
  lifecycle: ENVIRONMENT_NO_DEPS
  disabled: true
  depends_on: []
  metadata: {}
  spec: {}
