intent: aws_cognito
flavor: default
version: "0.1"
description: Adds aws_cognito - default flavor
clouds:
  - aws
spec:
  title: AWS Cognito
  type: object
  description: Specification of the AWS Cognito intent
  properties:
    user_pool_name:
      type: string
      title: User Pool Name
      description: Name of the user pool.
      x-ui-placeholder: "Defaults to the Resource Name"
    admin_create_user_config:
      type: object
      title: Admin Create User Config
      description: Configuration for creating a new user profile
      properties:
        allow_admin_create_user_only:
          type: boolean
          title: Allow Admin Create User Only
          description: Set to True if only the administrator is allowed to create user profiles. Set to False if users can sign themselves up via an app.
          x-ui-placeholder: "true"
        email_subject:
          type: string
          title: Email Subject
          description: Subject line for email messages.
          x-ui-placeholder: "Your verification code"
        email_message:
          type: string
          title: Email Message
          description: Message template for email messages. Must contain {username} and {####} placeholders, for username and temporary password, respectively.
          pattern: ".*({username}.*{####}|{####}.*{username}).*"
          x-ui-error-message: "Value doesn't match '.*({username}.*{####}|{####}.*{username}).*' pattern"
          x-ui-placeholder: "{username}, your verification code is `{####}`"
        sms_message:
          type: string
          title: SMS Message
          description: Message template for SMS messages. Must contain {username} and {####} placeholders, for username and temporary password, respectively.
          pattern: ".*({username}.*{####}|{####}.*{username}).*"
          x-ui-error-message: "Value doesn't match '.*({username}.*{####}|{####}.*{username}).*' pattern"
          x-ui-placeholder: "{username}, your verification code is `{####}`"
    alias_attributes:
      type: array
      title: Alias Attributes
      description: Attributes supported as an alias for this user pool.
      x-ui-placeholder: "null"
    auto_verified_attributes:
      type: array
      title: Auto Verified Attributes
      description: Attributes to be auto-verified.
      x-ui-placeholder: "[]"
    clients:
      type: object
      title: Clients
      description: The client configurations.
      patternProperties:
        keyPattern: "^[a-zA-Z0-9_.-]{1,128}$"
        title: Client Object
        description: Name of the client object
        properties:
          allowed_oauth_flows_user_pool_client:
            type: boolean
            title: Allowed OAuth Flows User Pool Client
            description: Whether the client is allowed to use OAuth flows with the user pool.
            x-ui-placeholder: "true"
          allowed_oauth_flows:
            type: array
            title: Allowed OAuth Flows
            description: List of allowed OAuth flows.
            x-ui-placeholder: "[]"
            x-ui-visible-if:
              field: spec.clients.{{this}}.allowed_oauth_flows_user_pool_client
              values: [true]
          allowed_oauth_scopes:
            type: array
            title: Allowed OAuth Scopes
            description: List of allowed OAuth scopes.
            x-ui-placeholder: "[]"
            x-ui-visible-if:
              field: spec.clients.{{this}}.allowed_oauth_flows_user_pool_client
              values: [true]
          auth_session_validity:
            type: integer
            title: Auth Session Validity
            description: Time in minutes that the auth session is valid.
            x-ui-placeholder: "3"
            minimum: 3
            maximum: 15
          callback_urls:
            type: array
            title: Callback URLs
            description: List of callback URLs.
            x-ui-placeholder: "[]"
            x-ui-visible-if:
              field: spec.clients.{{this}}.allowed_oauth_flows_user_pool_client
              values: [true]
          default_redirect_uri:
            type: string
            title: Default Redirect URI
            description: Default redirect URI.
            x-ui-placeholder: ""
          explicit_auth_flows:
            type: array
            title: Explicit Auth Flows
            description: List of explicit authentication flows.
            x-ui-placeholder: "[]"
          generate_secret:
            type: boolean
            title: Generate Secret
            description: Whether to generate a secret for the client.
            x-ui-placeholder: "true"
          logout_urls:
            type: array
            title: Logout URLs
            description: List of logout URLs.
            x-ui-placeholder: "[]"
            x-ui-visible-if:
              field: spec.clients.{{this}}.allowed_oauth_flows_user_pool_client
              values: [true]
          read_attributes:
            type: array
            title: Read Attributes
            description: List of read attributes.
            x-ui-placeholder: "[]"
          access_token_validity:
            type: integer
            title: Access Token Validity
            description: Time limit, between 5 minutes and 1 day, after which the access token is no longer valid and cannot be used. By default, the unit is minutes. The unit can be overridden by a value in client_token_validity_units.access_token.
            x-ui-placeholder: "60"
          id_token_validity:
            type: integer
            title: ID Token Validity
            description: Time limit, between 5 minutes and 1 day, after which the ID token is no longer valid and cannot be used. By default, the unit is minutes. The unit can be overridden by a value in client_token_validity_units.id_token.
            x-ui-placeholder: "60"
          refresh_token_validity:
            type: integer
            title: Refresh Token Validity
            description: Time limit, between 1 day and 10 years, after which the refresh token is no longer valid and cannot be used. By default, the unit is days. The unit can be overridden by a value in client_token_validity_units.refresh_token.
            x-ui-placeholder: "30"
          enable_propagate_additional_user_context_data:
            type: boolean
            title: Enable Propagate Additional User Context Data
            description: Whether to enable propagation of additional user context data.
            x-ui-placeholder: "false"
          token_validity_units:
            type: object
            title: Token Validity Units
            description: Units for token validity times.
            properties:
              access_token:
                type: string
                title: Access Token Unit
                description: Unit for access token validity time.
                x-ui-placeholder: "minutes"
              id_token:
                type: string
                title: ID Token Unit
                description: Unit for ID token validity time.
                x-ui-placeholder: "minutes"
              refresh_token:
                type: string
                title: Refresh Token Unit
                description: Unit for refresh token validity time.
                x-ui-placeholder: "days"
          supported_identity_providers:
            type: array
            title: Supported Identity Providers
            description: List of supported identity providers.
            x-ui-placeholder: "[]"
          prevent_user_existence_errors:
            type: boolean
            title: Prevent User Existence Errors
            description: Whether to prevent user existence errors.
            x-ui-placeholder: "null"
          write_attributes:
            type: array
            title: Write Attributes
            description: List of write attributes.
            x-ui-placeholder: "[]"
          enable_token_revocation:
            type: boolean
            title: Enable Token Revocation
            description: Whether token revocation is enabled.
            x-ui-placeholder: "true"
    default_ui_customization_css:
      type: string
      title: Default UI Customization CSS
      description: The CSS values in the UI customization, provided as a String.
      x-ui-placeholder: "null"
    default_ui_customization_image_file:
      type: string
      title: Default UI Customization Image File
      description: The uploaded logo image for the UI customization, provided as a base64-encoded String.
      x-ui-placeholder: "null"
    deletion_protection:
      type: string
      title: Deletion Protection
      description: Specifies whether deletion protection is enabled.
      x-ui-placeholder: "INACTIVE"
    device_configuration:
      type: object
      title: Device Configuration
      description: Configuration for devices.
      properties:
        challenge_required_on_new_device:
          type: boolean
          title: Challenge Required on New Device
          description: Whether a challenge is required on a new device.
          x-ui-placeholder: "null"
        device_only_remembered_on_user_prompt:
          type: boolean
          title: Device Only Remembered on User Prompt
          description: Whether the device is only remembered on user prompt.
          x-ui-placeholder: "null"
    domain:
      type: string
      title: Domain
      description: For custom domains, this is the fully-qualified domain name, such as auth.example.com. For Amazon Cognito prefix domains, this is the prefix alone, such as auth.
      x-ui-placeholder: "null"
    domain_certificate_arn:
      type: string
      title: Domain Certificate ARN
      description: The ARN of an ISSUED ACM certificate in us-east-1 for a custom domain.
      x-ui-placeholder: "null"
    email_configuration:
      type: object
      title: Email Configuration
      description: Configuration for email settings.
      properties:
        configuration_set:
          type: string
          title: Configuration Set
          description: The configuration set for email settings.
          x-ui-placeholder: "null"
        reply_to_email_address:
          type: string
          title: Reply To Email Address
          description: The reply-to email address.
          x-ui-placeholder: "null"
        source_arn:
          type: string
          title: Source ARN
          description: The ARN of the source email.
          x-ui-placeholder: "null"
        email_sending_account:
          type: string
          title: Email Sending Account
          description: The email sending account.
          x-ui-placeholder: "null"
        from_email_address:
          type: string
          title: From Email Address
          description: The from email address.
          x-ui-placeholder: "null"
    enable_propagate_additional_user_context_data:
      type: boolean
      title: Enable Propagate Additional User Context Data
      description: Whether to enable propagation of additional user context data.
      x-ui-placeholder: "null"
    identity_providers:
      type: object
      title: Identity Providers
      description: Configuration for identity providers in the user pool.
      patternProperties:
        keyPattern: "^[a-zA-Z0-9_.-]{1,128}$"
        title: Identity Provider Object
        description: The name of the identity provider object.
        properties:
          provider_name:
            type: string
            title: Provider Name
            description: The name of the identity provider.
            x-ui-placeholder: "null"
          provider_type:
            type: string
            title: Provider Type
            description: The type of the identity provider.
            x-ui-placeholder: "null"
          attribute_mapping:
            type: object
            title: Attribute Mapping
            description: Mapping of attributes from the identity provider to the user pool.
            x-ui-placeholder: "null"
          idp_identifiers:
            type: array
            title: IDP Identifiers
            description: List of identity provider identifiers.
            items:
              type: string
              x-ui-placeholder: "null"
          provider_details:
            type: object
            title: Provider Details
            description: Details of the identity provider.
            x-ui-placeholder: "null"
    lambda_config:
      type: object
      title: Lambda Config
      description: Configuration for AWS Lambda triggers in the user pool.
      properties:
        create_auth_challenge:
          type: string
          title: Create Auth Challenge
          description: Lambda trigger for creating authentication challenges.
          x-ui-placeholder: "null"
        custom_message:
          type: string
          title: Custom Message
          description: Lambda trigger for custom messages.
          x-ui-placeholder: "null"
        define_auth_challenge:
          type: string
          title: Define Auth Challenge
          description: Lambda trigger for defining authentication challenges.
          x-ui-placeholder: "null"
        post_authentication:
          type: string
          title: Post Authentication
          description: Lambda trigger for post authentication.
          x-ui-placeholder: "null"
        post_confirmation:
          type: string
          title: Post Confirmation
          description: Lambda trigger for post confirmation.
          x-ui-placeholder: "null"
        pre_authentication:
          type: string
          title: Pre Authentication
          description: Lambda trigger for pre authentication.
          x-ui-placeholder: "null"
        pre_sign_up:
          type: string
          title: Pre Sign Up
          description: Lambda trigger for pre sign up.
          x-ui-placeholder: "null"
        pre_token_generation:
          type: string
          title: Pre Token Generation
          description: Lambda trigger for pre token generation.
          x-ui-placeholder: "null"
        pre_token_generation_config:
          type: object
          title: Pre Token Generation Config
          description: Configuration for pre token generation Lambda trigger.
          x-ui-placeholder: "null"
          patternProperties:
            keyPattern: "^[a-zA-Z0-9_.-]{1,128}$"
            title: Pre Token Generation Object
            description: The name of the pre token generation object.
            properties:
              lambda_arn:
                type: string
                title: Lambda ARN
                description: ARN of the Lambda function for pre token generation.
                x-ui-placeholder: "null"
              lambda_version:
                type: string
                title: Lambda Version
                description: Version of the Lambda function for pre token generation.
                x-ui-placeholder: "null"
        user_migration:
          type: string
          title: User Migration
          description: Lambda trigger for user migration.
          x-ui-placeholder: "null"
        verify_auth_challenge_response:
          type: string
          title: Verify Auth Challenge Response
          description: Lambda trigger for verifying authentication challenge responses.
          x-ui-placeholder: "null"
        kms_key_id:
          type: string
          title: KMS Key ID
          description: AWS KMS key ID for Lambda triggers.
          x-ui-placeholder: "null"
        custom_email_sender:
          type: object
          title: Custom Email Sender
          description: Configuration for custom email sender Lambda trigger.
          x-ui-placeholder: "null"
          patternProperties:
            keyPattern: "^[a-zA-Z0-9_.-]{1,128}$"
            title: Custom Email Sender Object
            description: The name of the custom email sender object.
            properties:
              lambda_arn:
                type: string
                title: Lambda ARN
                description: ARN of the Lambda function for custom email sender.
                x-ui-placeholder: "null"
              lambda_version:
                type: string
                title: Lambda Version
                description: Version of the Lambda function for custom email sender.
                x-ui-placeholder: "null"
        custom_sms_sender:
          type: object
          title: Custom SMS Sender
          description: Configuration for custom SMS sender Lambda trigger.
          x-ui-placeholder: "null"
          patternProperties:
            keyPattern: "^[a-zA-Z0-9_.-]{1,128}$"
            title: Custom SMS Sender Object
            description: The name of the custom sms sender object.
            properties:
              lambda_arn:
                type: string
                title: Lambda ARN
                description: ARN of the Lambda function for custom SMS sender.
                x-ui-placeholder: "null"
              lambda_version:
                type: string
                title: Lambda Version
                description: Version of the Lambda function for custom SMS sender.
                x-ui-placeholder: "null"
    mfa_configuration:
      type: string
      title: MFA Configuration
      description: Configuration for multi-factor authentication (MFA).
      enum:
        - OFF
        - ON
        - OPTIONAL
      x-ui-placeholder: "OFF"
    number_schemas:
      type: array
      title: Number Schemas
      description: List of number schemas for user attributes.
      x-ui-placeholder: "null"
      x-ui-yaml-editor: true
    password_policy:
      type: object
      title: Password Policy
      description: Configuration for password policy.
      properties:
        minimum_length:
          type: integer
          title: Minimum Length
          description: Minimum length of the password.
          x-ui-placeholder: 8
        require_lowercase:
          type: boolean
          title: Require Lowercase
          description: Whether the password must contain lowercase letters.
          x-ui-placeholder: true
        require_numbers:
          type: boolean
          title: Require Numbers
          description: Whether the password must contain numbers.
          x-ui-placeholder: true
        require_symbols:
          type: boolean
          title: Require Symbols
          description: Whether the password must contain symbols.
          x-ui-placeholder: true
        require_uppercase:
          type: boolean
          title: Require Uppercase
          description: Whether the password must contain uppercase letters.
          x-ui-placeholder: true
        temporary_password_validity_days:
          type: integer
          title: Temporary Password Validity Days
          description: Number of days the temporary password is valid.
          x-ui-placeholder: 7
    recovery_mechanisms:
      type: array
      title: Recovery Mechanisms
      description: List of recovery mechanisms for user accounts.
      x-ui-placeholder: "[]"
    resource_servers:
      type: array
      title: Resource Servers
      description: List of resource servers.
      items:
        type: object
        properties:
          identifier:
            type: string
            title: Identifier
            description: Identifier for the resource server.
            x-ui-placeholder: "null"
          name:
            type: string
            title: Name
            description: Name of the resource server.
            x-ui-placeholder: "null"
          scope_description:
            type: string
            title: Scope Description
            description: Description of the resource server scope.
            x-ui-placeholder: "null"
          scope_name:
            type: string
            title: Scope Name
            description: Name of the resource server scope.
            x-ui-placeholder: "null"
    
  version: "0.1"
  flavor: default
  kind: aws_cognito
  disabled: true
  spec: {}
