intent: postgres_user
flavor: default
version: '0.1'
description: Adds postgres_user - default flavor
clouds:
- aws
- gcp
- azure
- kubernetes
inputs:
  kubernetes_details:
    type: "@output/kubernetes"
    displayName: Kubernetes Details
    description: The details of Kubernetes where the postgres operator will be deployed
    optional: false
    default:
      resource_type: kubernetes_cluster
      resource_name: default
  postgres_details:
    type: "@output/postgres"
    displayName: Postgres details
    description: The details of Postgres where the user needs to be created
    optional: false
sample:
  $schema: https://facets-cloud.github.io/facets-schemas/schemas/postgres_user/postgres_user.schema.json
  kind: postgres_user
  flavor: default
  version: '0.1'
  metadata: {}
  spec:
    endpoint: postgres:testPostgresPassword@test-postgresql.default.svc.cluster.local:5432
    permissions:
      permission1:
        permission: ADMIN
        database: test_db1
        schema: public
        table: test1
      permission2:
        permission: ADMIN
        database: test_db1
        schema: public
        table: '*'
  disabled: true
